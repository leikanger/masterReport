
% Tester stavekontroll:ord: 	que queue deklarations declarations continue colour color successful important forcing  address



% Trenger "Table of abbreviations"
% 	- LTP, LTD, STDP
% 	- "spike" ? (at det betyr Action potential)?
% 	- SANN  - spiking ANN
% 	- SN 	- Spiking Node, a node in SANN.
% 	- KANN, KN.
% 	- LIF neuron: 	Leaky--Integrate and Fire  neuron




% Eller kanskje eg treng stikkordsregister: Trenger:
% 	- Det over og:
% 	- axo-axonic synapses
%
% 	- KN, KANN node : 	node based on a the consept of the $\kappa$ model of the neuron. Nodes of KANN
% 	- SN, SANN node : 	node based on a direct simulation of a spikin neuoron. Nodes of SANN
% 	- suptrathreshold levels : 	value higher than the firing threshold of a node.
% 	- STDP
% 	- LIF neuron
% 	- synaptic weight.
% 	- AuroSim 		:  	The implementation written in this project.
%
%


\documentclass[b5paper,12 pt]{report}
%\documentclass[a4paper,10 pt, twocolumn]{report}
% TODO Er dette rett? Sjekk dette..


\usepackage[utf8]{inputenc}
\usepackage{graphicx} 

% sudo apt-get install texlive
%\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[font=footnotesize,format=plain,labelfont=bf,up,textfont=it,up]{caption}


\usepackage{amsmath}
\usepackage{mathrsfs} %brukt for krølle-L : laplace

\usepackage{subfig}   % for subfigures.
\usepackage{listings} %for c++ kode
\lstset{language=c++}


\usepackage{amsthm}
\newtheorem{mydef}{Definition}


%\usepackage{pstricks} % For teikning. 		FOR mykje styr å lære..
%\usepackage{pstricks-add}
 %\let\psgrid\relax %XXX Fjærner GRID på alle pstricks teikninger. (global removal)

%\usepackage{epstopdf} % for å få med eps i pdf-latex (?)    funkerIkkje.. Gjør det manuellt for filene..



%Kanskje dette er naudsynt? For metapost:
%\DeclareGraphicsRule{*}{mps}{*}{}









%%%%%%%% Fra Kristoffer sin master:
\lstset{ %
basicstyle=\tiny,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\tiny,      % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=7pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
%captionpos=b,                   % sets the caption-position to bottom
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
%escapeinside={\%*}{*)},          % if you want to add a comment within your code
%
%frame=single,                % adds a frame around the code
tabsize=4,                % sets default tabsize to 2 spaces
breaklines=true,                % sets automatic line breaking
}


\author{Per R. Leikanger}
%\title{Development and Assessment of a Novel Model for Artificial Neural Networks}
\title{Development and Assessment of a Novel Model for Neural Simulation}
\date{\today}     



\begin{document}   



% TODO Neste linje skal kanskje være over abstract og maketitle? TODO
\pagestyle{empty} %get rid of header/footer for toc page

\maketitle

%\begin{abstract}
%abstract: Her.
%\end{abstract}






\pagestyle{empty} 

\tableofcontents %put toc in
\cleardoublepage %start new page %TODO Brukes dersom [report] brukes for dokumentet.
%\clearpage

\listoffigures
%\listoftables

\setcounter{page}{1} %reset the page counter
\pagestyle{plain} % put headers/footers back on













\include{introduction}

\chapter{Background Theory}
	Before looking av Artificial Neural Networks(ANN), different aspects of ANN history and biology have to be introduced.
	This chapter is intended to introduce the reader to the necessary background information to make the theory in this work comprehendable.

	First, theory about the simulated system is ... OSV (sjå FDP)...

	Introduksjon til kapittel: motiver leser til å få bakgrunnsinfo!
	-Neurale systemet er en shitbra signal-prosesseringsenhet som har en del egenskaper som digitale signal-processore ikkje har- List opp..
	\input{biologicalNeuralSystems}
	\input{artificialNeuralSystms}
% 	\input{NIM-simulations}




%\chapter{Articles}
%	\input{artikkel_06.02.2012/introduction}
%	\input{artikkel_06.02.2012/theory}
%	\input{artikkel_06.02.2012/metode}
%	\input{artikkel_06.02.2012/results}
%	\input{artikkel_06.02.2012/discussion}
%	\input{artikkel_06.02.2012/concludingRemarks}
%
% 	\appendix
% 	\include{artikkel_06.02.2012/appendix}


\chapter{Development of A Novel Neuron Simulation Model}
	\label{chapDevelopmentOfANovelModel}
%\chapter{Development of $\kappa M$}
%\section{Mathematical Modelling}
	% TODO Write an intro to this chapter
% 	The subthreshold build--up of membrane potential of a LIF node have the form of a general leaky integrator.
% 	In the preliminary work to the final thesis, the author proposed a novel simulation scheme based on the algebraic solution to the LIF neuron's differential equations.
% 	In this work, the simulation model has been further developed and tested experimentally.
% 	The mathematical modelling and necessary consepts for utilizing the resulting equations in a simulator is presented in this chapter.

%TODO TODO TDOO TODO Skriv om første setning! Slutten er dårlig.
A simulator implemented by numerical integration of input involves an accumulation of truncation errors, as the error is integrated alongside the depolarization value. %also is integrated. %is integrated too. % as well as the value.
%A simulator implemented by numerical integration of input involves an accumulation of truncation errors, where the error is integrated as well as the value. %also is integrated. %is integrated too. % as well as the value.
The value is integrated to the firing threshold before an action potential is fired and the depolarization is reset. % to the resting membrane potential.
An incorrect value of the simulated depolarization gives an erroneous firing time and initiation of the next inter--spike interval.
%An erroneous simulated depolarization value gives an erroneous firing time and initiation of the next inter--spike interval.
The depolarization value in that inter--spike interval is therefore affected by the spike time error, and the mechanism is repeated.
Any systematic local truncation error thus creates an increasing total error defined by the sign of the local truncation error, producing a diverging error for simulations where simulated time $t_n \to \infty$.
%In an attempt to make a simulation method that have a bounded error, a simulation scheme based on the algebraic solution to the $LIF$ neuron's differential equations is devised.
%TODO UNDER: 			simulation method that produce a limited error, ... 	Eller noke.
In an attempt to create simulation method with a bounded error, a simulation scheme based on the algebraic solution to the $LIF$ neuron's differential equations is devised in this chapter.
%In an attempt to create simulation method with a more stable error, a simulation scheme based on the algebraic solution to the $LIF$ neuron's differential equations is devised in this chapter.
%%	In the preliminary work to the final thesis, the author proposed a novel simulation technique that utilize the algebraic solution to the LIF neuron's differential equations.

To utilize the algebraic solution of the $LIF$ neuron's differential equations for simulating its depolarization value, it is found that depolarizing input have to be represented as a continuous flow.
%If the solution to the capacitor differential equations are to be used for computing the neuron's depolarization value, it is found that depolarizing input have to be represented as a continuous flow.
%Instead of considering the discrete synaptic transmissions, 
After the algebraic solution of the $LIF$ neuron's depolarization have been developed in sec.  \ref{ssecTheAlgebraicSolution} and \ref{ssecTheActionPotential},
%After the equations for the leaky integrator have been adjusted for simulation of the LIF neuron in sec. \ref{ssecTheAlgebraicSolution} and \ref{ssecTheActionPotential},
	the concept of synaptic transmission as a continuous flow is discussed in sec. \ref{ssecSynapticFlow}.
%The last part of this chapter is dedicated to a discussion about the error mechanisms for the two considered simulation models. % ; Simulation by numerical integration and simulation by depolarizing flow.
The last part of this chapter is dedicated to how the introduced mathematics can be utilized for simulating the neuron. 
											%an analysis of the error mechanisms of the two models and discussion about other necessary concepts for implementing the novel simulation model.

	
	%inkluderer ei fil..
	\include{theNovelModel}
		% Skal inneholde:  		\section{The novel model: Modelling}  : 	\label{ssecModellingRefractionTimeToLimitFiringFrequency}
	%\include{timeAndError} ... eller noke








	% Todo finn ut korleis rekkefølgen skal være. Ikkje bestemt enda..
%	\chapter{Design of an implementation for comparing the two models}
%		\begin{itemize}
%			\item Write about how to make the similarities and differences more prominent: Common abstract class, derived [s\_*] and [K\_*] classes.
%		 	\item Time, pWorkTaskQue.
%		 	\item 
%		\end{itemize}

	\chapter{Design/Implementation and Theoretical Comparison} % of the two Models}
	%\chapter{Design of Software to Compare the Models}

		Two simulation methods have been presented in this text,
			the Numerical Integration Method($NIM$) that utilize numerical integration of input,
			and a novel model($\kappa M$) that utilize the algebraic solution to the $LIF$ neuron's differential equations.
		%The traditional method of simulating the $LIF$ neuron's depolarization by numerical integration ($NIM$), % utilize numerical integration of all change in depolarization.
		%	and the novel model that utilize the algebraic solution to the $LIF$ neuron's differential equations($\kappa_M$).
		%	%and the novel model that computes each node's depolarization by the algebraic solution to the $LIF$ neuron's differential equations($\kappa M$).
		The two models differ in how they compute the neuron's depolarization, what values are propagated, and how the neuron's spike times are decided.
		%These two models differ in how they simulate the neuron's depolarization. 
		%The traditional model($NIM$) computes the neuron's depolarization by numerical integration of discrete synaptic input, while the novel model($\kappa M$) achieves a higher time resolution by computing the future spike time.
		%The two models are thus very different in how they can be implemented and in the error produced.
%%
		%In this chapter, a theoretical analysis and comparison between the two models is conducted. %performed.
		Software intended for a theoretical analysis have been designed and is presented in this chapter.
		Some of the differences in implementation are inadvertently presented, but main discussion can be found in chapter \ref{chDiscussion}.
		%A more thorough discussion of the differences will be discussed in chapter \ref{chDiscussion}.

		To make this comparison as comprehensive and accurate as possible, both models are implemented from scratch.
		The design of the software intended to make the similarities and differences prominent is discussed in this chapter.
		The software is also used for analyzing the efficiency of the two models, and the design and results of these experiments are presented in chapter \ref{chExperimentalEfficiencyMeasurement}.
		%The software have also been used for analyzing the efficiency of the two models.
		%The design and results from these experiments can be found in chapter \ref{chExperimentalEfficiencyMeasurement}.
		
		%The resulting observations are presented in the second half of this chapter.
		%The first part is about the general design of the implementation, and how best to achieve an insight into the differences and similarities between the two models. 

		%In chapter \ref{chExperimentalEfficiencyMeasurement}, experiments are designed to test the accuracy or efficiency of the two models.
		%The implementation utilized for these experiments is based on the design presented in this chapter. %XXX Based on .. er feil!
		
		\include{designOfTheImplementation}
		\include{analysisOfTheTwoModels}



	
	\chapter{Experimental Efficiency Mesurements}
	\label{chExperimentalEfficiencyMeasurement}
		In digital simulations, where time is divided into discrete time steps, numerical errors comes as a consequence of having a bounded temporal accuracy. %TODO Cite ?
		SKRIV INTRO SEINARE. Ha aftikkelen til Plesser og co. framfor deg! %TODO




The size of the truncation errors caused by the discretization of time can be minimized by letting the number of iterations be very large and the computational time step very small.
This cause the discrete time to go toward continuous time, and the truncation errors to go toward zero. %and the error from simulating the system in discrete time to go toward zero.
Because of this direct correlation between the size of the error and the computational load, it is possible to measure the efficiency of a simulator by the simulation error;
	For simulations with smaller error, larger computational time steps can be used to accomplish the same accuracy goal.
In this work, the efficiency of the two models are analyzed by comparing the simulation error of a $\kappa M$ and a $NIM$ simulation of low temporal resolution with a high resolution $NIM$ simulation. % with over $1000$ times the number of time steps.
%The results from this high--resolution simulation will be referred to as the simulated solution in the remainder of this text. %, and considered the true time course.

% %TODO Ta vekk resten av intro. Skriv om dette i første section i {experimentalEfficiancyComparison}
% In this work, the simulated solution have a high temporal resolution of $1.000.000$ time steps per sensory function period. %, the simulation takes long time to complete.
% The simulation produce results with small error, but is very inefficient.
% The high--resolution simulation's depolarization time course is considered the true time course, and referred to as the simulated solution in the remainder of this text.
% The results from low--resolution simulations with a temporal resolution of $100$ or $1000$ can therefore be compared to the depolarization of the simulated solution to find the accuracy of the two models, $\kappa M$ and $NIM$.
% %Because of the high accuracy of the simulated solution, it is considered the correct depolarization curve for the $LIF$ neuron for the experiments conducted in this work.

		%TODO Eller hent fra "theory" i artikkelen. Intro til den section er bedre strevet..

		\include{experimentalEfficiancyComparison}


%	\chapter{Discussion: Theoretical Analysis of the Two Models} 
%		Her skal eg skrive om forskjeller i design og implementasjon.
%			Prøv å gjøre det slik at lite blir introdusert i Discussion!
%		Enten skal eg ha inn bare teoretisk sammenligning, her, eller så kan eg også få inn results fra Efficiency Comparison: her! (mest ryddig, mest arbeid(?) )

	\chapter{Discussion and Concluding Remarks}
	\label{chDiscussion}
 		- Skriv om at med dEstimatedTaskTime-opplegget er det ikkje nødvendig å simulere spatiotemporal delay. I aksonet for eksempel. Dette er kjempebra for neuronsimulering.
		- Mulighet for "multi-compartment model with single compartment implementation".
		
		- Skriv om at det var teit å bruke deriverte ved overføringer. Bedre ville det vore å bare definert det slik at kvart neuron oppdaterte(rekalkulerte) kvar iterasjon. 
			Ikkje så veldig intuitivt at dette er meir effektivt, men la oss sjå på simuleringsresultata!
		- Directions for further work

% \chapter{Design of Software to compare the Efficiency of the Two Models}
% 	% Før dette må eg analysere error, slik at eg kan skrive "for å teste analysen fra \ref.., er spesiallaget software designet for dette."
% 	The two simulations models mentioned in this text have been designed from scratch, and implemented in a common framework to enable a better comparison.
% 	In the preliminary project to this MS thesis, the two simulations models were compared theoretically.
% 	The analysis was supported by the design and implementation of the two models from scrach.
% 	The two models are therefore implemented using a common framework, where the the subelements of a neuron for the two models are inherited from a common ancestor class.
% 	...
% 	\include{generalDesign}
% 	%\include{designSANN}
% 	%\include{designKANN}

\appendix
	\include{appendixSynapticPlasticity}
	\include{appendixMathematicalDerivations}
	\include{appendixImplementationDetails}
	\chapter{UML av alle subelement klassene!} 			%TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO     SKRIV DENNE!         TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO 
		\label{appendixUMLofAllNodeSubelementClasses}  	%TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO     SKRIV DENNE!         TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO TODO 


\bibliography{bibliografi}
%\bibliographystyle{abbrvnat}
\bibliographystyle{plain}
\end{document}

% // vim:fdm=marker:fmr=//{,//}
